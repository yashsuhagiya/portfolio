---
import ProjectCard from "@components/RepoCard.astro";
import Layout from "@layouts/Layout.astro";

type PinnedRepos = {
  name: string;
  repo: string;
  description: string;
  language: {
    name: string;
    color: string;
  };
  stars: number;
  forks: number;
};

const pinnedRepos = await fetch(
  "https://api.github.com/users/yashsuhagiya/repos"
);
const data = await pinnedRepos.json();
const repo = data.data;
---

<Layout title="Home  | Yash Suhagiya">
  <main class="lg:p-2">
    <div class="mb-10 flex items-center justify-center md:mb-16">
      <div class="w-9/12 text-white md:w-[740px]">
        <h2 class="text-3xl font-bold">Projects / Assignments</h2>
        <p class="mt-4 text-left"></p>
        <div
          class="grid grid-cols-1 gap-y-5 md:grid-cols-2 md:gap-y-8 md:gap-x-4 mt-10"
        >
            {repo && repo.map((repo: PinnedRepos) => <ProjectCard {...repo} />)}
        </div>
      </div>
    </div>
  </main>
</Layout>
